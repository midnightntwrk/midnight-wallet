package io.iohk.midnight.wallet.jnr

import cats.data.NonEmptyList
import cats.effect.{IO, Resource}
import io.iohk.midnight.wallet.jnr.Ledger.*
import munit.{CatsEffectSuite, ScalaCheckSuite}

import scala.io.{Codec, Source}

@SuppressWarnings(Array("org.wartremover.warts.ToString"))
class LedgerApiDevNetSpec extends CatsEffectSuite with ScalaCheckSuite {

  override def munitIgnore: Boolean = scala.util.Properties.isMac

  private val validDevNetTx =
    "010101010001000000000a0000000049de041eb949029a50aead0e9e98ca2058c48e2bb6f74196a5edc18e4d5f2d7b5797e428c80acba340f4c037f196a3f6aa928693bcdd8035edd1702723b1600001d8c40795a986df56facaaace59f592569b9589dcc3b851e3add0508985be47f32005a223771f8c6ade2367189d163a946f3a3d49e07caebf7dcdc174c0aefebf10203994761a92c9a4d683bf5bb3fd92f4df8c565c1ea20044e290877f6030ee293e20b2ea15566a3be9a83632d5e7b2fcaf1e52713087cf93e404fbfa8a3b616efc2a209a6c247e370c07635be2f68d9a28f474efa0f5843c12811a569586fc2191c673200d92fb4ef74ba18a89d66e31d4f61041bb926a616a434341a1b4cbd2d18c0c0820021aa24a1792022afb25acce443b190437834018a52a533831e6d1a2500d7e51dce62868001fe6bb217289d25597a578b1cb36d9f85de34f48943c03c70ec7ba13a6f8fa6a25263da14bd91f99e49e980fdfc3910492f4f06ced097f72882f54c999d453becf0e0c572e7e7a3253f0dae621988c58566606b54cfbcf312ac887474848188c0473ea8343bc23c68a10446b06917d4d4eeec01cfdd14b1f91616847f7aba0af782cce867b793dbe83578458a8ee612751809ad84fdb8b04a49af2884c398b9654de7d9e6b6c7c84e1b8df6bb9862e55c15c633054d250f81a770e89c7f6dca388400d16c08932abded7cf567ee75b0245e0e2f29b18f7991e73d4c9e801b41ca4894442ea8de45cd55b87000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f3108dae6842ba135f9c16ce07c08791de14f043b989bf111247eafade2baeb7f92a382f1ae62cf439550d989b878001a4317da8c85fa38429422e5351deb11ff09f5690ca07b912c0417b175ca27c8afeb2458d97f5130071a1dbb5c874cd69cca0963eca5f71b17d9fc3480340e45dc2bba0dac85c91c79a52db4c4f92c1396cc0f197752bbc8f36411411f7700936af4866d3e8338285b14c8f59426017034ecd0d7f25ddeee026c548100f710c98639050f1619030fba919621196a6d5ffb8884505562168aef3a9811f94b705de5537e2719f6bba34803676dcedd3cea8219041d23bc3843e56ae8bcde25f6b776301900b7ee40cbf5ed8762148c371716ee5ea722e06f6cabb124574bb89cff39a4e4f6ce46af470877aa47e29bdbc9ffa96a0300774e50e7f590f3a497355a8f676a2cc266458b86878621e05fc88026655e0609cee67c2da1544fde1948d5b947f0db187bef7e341d207f5ebbf4a234f0d668503c8e0440321ba1ee5b87b7a98be0e78b6589730846384f3f1b800a0675fae615551b95053e2716238a3c8e21efa968c986498764b27bfaea2ae0076dddc87841a4f40adafb289dd62cfef483793871efccb44f4de037f8b19d478155073dfb30c13500c01d4bc5f026a426354ff49d179957d13c143938af6655dd442304266c0c4d7c9e9aeafbb9039d1aab2073f51573aafbcac11bf697add1eb5a6ff2050cb8e83b6b34b5ff94fc897323e2900331d1cafc2c0a864754d43981cbdcb5b0490000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c354e4dcbdecd97a913bd1eb1d05811d953b70d871e00cea58914f80477e975400800000000000000715f635f6576616cd634ca58f26e99bc1b9e5dedac3d808ae38a366afb0470c7183a9d758948b50e0800000000000000715f6c5f6576616cc6c48a67a047e7be691b7d9193406808a89eb5ceb4cd2baf0a7018c6ce4c1c660800000000000000715f725f6576616c07a8dc807cefae89b5b0a71b34fe544c79c82c8461c06f92981b75a027f84f510b00000000000000615f6e6578745f6576616c3a1ec6cb54f472e07bd8e5d1a69f9cffed4ac5a93c93934acda3b8f864368d6f0b00000000000000625f6e6578745f6576616c47b02926765e3ad859f922255f7b4e91438af619bbc88567b9aeedfd92670c6d0b00000000000000645f6e6578745f6576616c729efeb521b845d8f407413bafe889eb8f1d00eeff6b9ee7a685650e5de8051406b057bdae006ae077fd7f641ec86bb3c52c345d0e3348185dda6da8ed782832b36cad5dfdb874efb35c00ddf570b1d1edaad06f21d674fc4264e7c6a415fd0200014b1e1ba8b5235720d38c1680523c8452a8bf769125b90d5c04aef8253de42d1220b1f8b4ce9f3f58b5cd8c0d57c21b2b595da6df6f4c2b1570840f8a7ace83c5022013a68c437a0ce6ae9a8faa89d979cbcac112859f036d9908e850b0f9bfa4f94520153169c31e44acab3d975a01f8f532021982320c8cfd67c3726e74e7253b0e50205a2e5bc885eb15fc65c7a9cf2aeab2f8c76ab16365d26e22dd5c66042552322620e6bd79161964c9abc7ebeb897c989083d8e58d4d05cbf7dc66fb303033c76c2720aa80f0d18376a57a440329d023104e9aad44bcf00af99f355faf6e3b3cf41c5045eca33fa2e7788d575e54d563226d47dd33ba4e0f06e5507025467a11ddc8be14de9facc03d96da03ea3df743de060261aaf01334a1255a70d178e60ceeff4a0780df76b27579eb7ad02f8879a9f84cf3bb1626ae0649eee3bc73838a4ecd199effe224ca1736b7e3aca0abd5ece14b209c8dd513cad518547dd1e5c787078f28085f16a8e3e0cb1c77d7d489b95f18fef731e343638c669f771d090a112df62e024ec992f48a7af51960c3705b7635b869ad299465c00b6bbdb63d8802bb146bcffe0257f4071d8aca78f98b292435906235a96b97d920836ef57364603fbded5513cf34f6674d1d3dccebd02ab495000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f31080a841688a0effcf990107d921bc65cddb5949a301beefdc2fd536dd54e1a5f986a98901ae052045abf07695c638e2e8f29066e93689e72d52b4dfd9c20f1a0f80d7d12af2625ac00d71f95e0d6d842da5959c9f49593a1b621e7ec9775d757883c141d331101c398a7352d3693e37309d7188819c1f2981f3c06f1838eb468816b4a488f62c644ecd130c7c8f1830816babc174fa359b6855d33103a11238c21dcef5aab27e3d0b39fa04f615dd7a31a657fe8ac0e6b0b4cb3da72f41dc3220ac417a6c0d7e1583d2386709c6f894650fbc7ef273ec213662950c62793c4bcd54fe387439df3b4842638cfea415b34900033f4512aacb682a08c543f7f68b6fb7ea463e4b231c6057b9eeadf73599fb35a1cf082a331d35ca7d8e3bdeb04f994120043c7b1c91c3ef8de5d893cd774816c242eb82a453f9074b77d17a6cfe1383b52714d2cf463431f1803e02c8d39823df3b27bace7821bb357c448f812575b8826bc53a0d933edf1f2d7fb8c9fabf6428edab3d9177ce35523a083b2faaf64b148ea5579b20a97d48b8fe09197e056fb8223f29503301b81503409d08e62a05b71d607dff493e8eb687850bc10aa8e34f5ba910379f2ae6ad8f067111efca24a5111bbbd405717ed597f9d1df8873bc5c99823d9a5a578978bb15dec20deeaf83de38000dbac526761513f1bac37b936462377a67bb63aae5325e46755dc92ae111eab1860e72a9869cc905308e31d2e884b39ffb46f3b2a6b8cceca050e53d3020000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c87a2f09fef0373aec83310eda03f376494215c0a06a9dc3bf3721a24782e42730800000000000000715f635f6576616c489c4a42d73a43e50f3ef5bfdc144520a16ee47c42289988ac14890935ad442c0800000000000000715f6c5f6576616c4a773a8b64b34e07f57611dfff266952d007172884f41d83fe47471b4f4796050800000000000000715f725f6576616c20b0e4933d8caf8b7fadd5f779d6ed87a554575ca6ecbf0e782c795fba8a462d0b00000000000000615f6e6578745f6576616c5f70146854b238ba8c3dbcacfee4e7ebb023c89f67287ac6bc2f4ef15a923f050b00000000000000625f6e6578745f6576616c32d2e0f1d66c98a5ae8d8acdbd8106d8a1602de235fbec7cd881daecd602ce140b00000000000000645f6e6578745f6576616c7bad52d77d022473f3216356a651f1d51c5a52d11497057a39ee8e754ac42d171a1f0867f25d1a210b4edd6a051def61f3fc48640b5af064f80c5affad6fcf635a9eb59850851adf8a37bd655d897370446d49dbe4ee8718f71d13a8b2d4e5d20001177316d31582adc19a48a131a0c2f40ac27d92a28d7b1d04ef2bee6af2ac93c620e8ac9c8e529f61c2801a93482329cd16ef2ca658446be9743438bb51f81c3d282095833d372465f148a50ae7169a868dbd735199ce544e18dd0456e05c05a76b442083e6016fe03228288cf5adc337ea2dd17709333900a7f39b108973ba2b15ab6d2066f24819573960864746027ead926d4a108d4a119f5db66298b051fe5e1d295020c9e6c70877a27ffc57e47ef672e03d401fb40f8a3c3939a9a240ea84a0dd596520cbe7f7843f1ae605ee9bea271d1bf93cd391d777ca8cf50dec9a6d010617b435664ac4c6ee1af662b37aad1cf68308b42309bedbb9b16d396806da09fc852a29a08d95c84f1be510fae4cdb1abe64f81adad888ce2e3c87864d46e2b813a9a836bb6771e667b18e87c6bc4fcae0193697c4f150111f776f268edb3d6dc962d17249c18055a36d781a6797b5db49cd0645977de5a6de7f2a21e1aa2c9896e661e24672dbded6a0fe1e99b6f61ce14bb01bbbd37e373af7b184a33d5d6bbcaec69df8337f4074d8508e39301b6650acd1a28186edef7eaa218623d115621f4d61544e23b181ac63c2df062048573562e6cad6d87ca5fc850256ac2d67d9a0555e2ddc0a6b0d1f371b51a3ee81239283d08000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f310808bc4271fd11ea4d85343b17d8a1bca5d2f609b41b309aafcc83a2a2d9966c0e82672fc20fa5d9b8af0356782c44378caaff4016080b40d6e6dc0faf35f66aea950f758e4c534d016942421184ba564fedb5a268c34fc8d89e8f073227649202cea6808316c4b0bb92d3b3d3504537d4eb85377c9d9a2760d95044c455d8c8c33538ee15b5a9efa5161c17fddad08b8a2c620d6b544db6a858e09c15c02c9edf7c4ce4e94cb570a3e61170a8c2ea3904dcbb194c728335528d51e58c83d8348c017b1761d62a0d4f7dabad71f70548187ed85a3e4dbb8f89e0e944b72ed953b904feade24d3ee8ef62af8e6b951cd19900686643a0ae0a83d14f0539050d721f9a6d0830e9ba2825f86d0bf0ac0c56d6da2dbb0afefdde6dc17917d64b1ad47b960089ccc2d164b6c2bb96b98b8aae9c9c75c61615c629181873744e1a299b59e52912e2e33949237a8f0cb098ab95920e4a1f5a4e8e87dd638cc3de8298c389a5353c1c93ee3765a76ca22f619414c2bcdc8d7710ebcc910d7dbaca70803c6ce73eec9e9ea309c0700b49446eb88e73260b75588a589509d9ebc39783c551ae52370fec607170fb57bd6927fbd8acec5759be86dd54ddb83bf9cc0efc376d696b41907e8a47a5aa5317615e7be5429428397cd51f17d9171cf36ebdf9a44d644734ea3aec7919bac551f044635efdb1a23f57ee241e2eb3fecbd164f65283a49b43b32d20e3753b85fb501bbfcb5c13b206d958e1e0e2437a8b0f1e2788073721550000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c8ecbd327f2eed43ea144ae9c8aa54a3c9723d37ddc7bab5621c8a4e0943c3a430800000000000000715f635f6576616cb8b5c55cc5f06d222ef3534526ca908bb8059e76062d41cf1edca69a51d5f0170800000000000000715f6c5f6576616c6d64340e904b6f0c6c7e39c38a67b09f0f14d5dd075b769579ab954a9dc8b1100800000000000000715f725f6576616c8d0e261149d36a7e05f29958802af3db8bbdc186bd5800201fb09f4a733e40410b00000000000000615f6e6578745f6576616c6f2cd6f5d4262963a9f667ecd9edda652c6877b1d140e12cc593964ee19325270b00000000000000625f6e6578745f6576616c5e15916e33ce4d7d6665dace604a86555a4d17b32e2aeb176995cb488b19c4620b00000000000000645f6e6578745f6576616c2a42f1bd9d6c55fe5c8f1285398a598bb54fd3d2cdb64bd66f61982a281dea124b63c2ea5129128afa238457ea0aa766f611221f26af9c5e1386d3e0b0d3fb6cff9de4c52378e7d466f4ddbf0849bad603adbfb2dc37dfd3bc3af0416cf745a3000116da2328c0e689144bfb307b2d69d2bb5e45a74104294aa6a117bea1b147771920840e0f7555d8da8273949d055f9cc3233587aef1a313c0b6f5bd7793f14a0f6a20b937946b3029f652f2b0e2d1c59b8899dba36949446788c270b00071097a5d202002434d800db31f0d02683f233446f4f608ad1aeba77f49e2f371fa80dc390f0d20628ecc2fb39ec86e07e706df51d2286ecc77e253bc9a7a49309d56ef9d2e0c39200a71b3027ac61d7641bd1d359288637197b9635a6052b07a71943da229f30e31203dbbaa290035e508005dfa9bd5a4a1387144fa2278d14dd340c6457f342b2f212b485dade5db486c3f710a3b6911c9723bec14bacd304bc6efd04e57fb11f65257731ab82a8b54a211c840b1dd8ef28d5f3743d047bcf2970dfbf59c7d4409254269ed575c4ad18d83e226a09dd37657897ccda6832d2705853d0c0b867b958eba83c8ab8b543edd2eeb219b5f06a49f866bef19126bb0037d4bb1e2b59cd4bb96993a3bf5b2eb293b9134453d4b250e7411aa45b1a8931ca89400f6e5d5e5d3531c48a6637c72a5c72b3974e0a4443e12e5e66fdbfb8b3a2686bb06ff897f0fa5698b07f9fe6652f3d06e940bcb97b7c26463e1c1970c5c715741abf6360d384a0c1184b46791cf39e06a2862f0ce18000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f310883169653a806e9b72f86a6a408401fb51789af060627091e07755c1524ef5d3de8d00edcebedd12b1bbb38cd4615fe9999a51efdf707dc93bf6edc7a160eb042cd19467195a3054853a5cfae3d289f319040510eca05c59fbc3d105180add30b877fb71355e680f23d5613794f95cc8f4c860059dcc12ea234a8115b3bef82a0199c7b72b2f3826646a37236a46e6d108552853b356e7d5b6b9c84b541f7a8fe43e15ad3f398bbe2810e8da98a3412100760eb33b3206ef5790b3e8257e07b0ad6ac5633a4c3c37fcea26138d4c2fc215b26ee9cd601b314811a0a5577c25f0e7bb5f48998ded0dac5bfb823b5cff00000bb84a93627c05264a4a518032dd93cb4c213b85511157081cb6f1c093b3c76eb523370c37ec29e3a4dc0f9418bacc78c00bf503368da7cb75fc82706f5933ab67e395655ad03d4d0dedba2479d55d27448abe6cd5d7ba338b72b6e94526c23828efd9cbb2875032643584bad655156812e3ea44daab4c691df681265b99f33c8c79a6b5925e61d390aaded301fe4ac1a0d5fcd231f8e72100907d85f48bf39fc517beadbf21c419f6bd751b4c40223b33936d6cf9ac91d16c92a09d2cd7ad9efbc6b27c018069bb14eeb378bc8c6fcae36cfa65edbd270ded714cb27b72b09898446b1d5a4fcb47c4cc6caf1d8051f775dcce45304baf91371a5a4433afbed5da1cdc9abdd6e054de395d2df3d6c9f1a51a71bc4a17c8ca1bffe3c67b16b58bbba0cc896f356c42cb56106158e58af3d190000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c7e85512a422791cda53738435074cd38566dae87c1c07e99d422f57bd123386b0800000000000000715f635f6576616cb588f9e874c171bec820ef2b185a6c32b328fdd5261d3b75c096849d64fd125f0800000000000000715f6c5f6576616c2a858e23e49416f008d7ea0a3c66d276b18fa87f0bc3a44afb0809a3a943fc640800000000000000715f725f6576616c4026a3834ef9c6f345b48d8dd2642f47ad85f42247793f0190dd1e1736f5266f0b00000000000000615f6e6578745f6576616cd2f3dfa5ba2e4e2f318050fbbb76851b76dd15fd2625641e7bec78f7957afa260b00000000000000625f6e6578745f6576616c08a870e384c8e7ccf6f59faa290b7d91a45739fdb2d4fdb4f8c57095c91e65560b00000000000000645f6e6578745f6576616c6cd75bd9e143ca99463f0e5c349820555c36c2117b76251f0ddfb9c07424195a4e952d0fa8d65135eb82fcd528869fbc28e1c01db9c33700cf13378c11f6f23a47bcb6c1a49bc17ac274d121451b9c07eeac4ca1c0e7e1439d0ef1c239b449a000011ec07f94d60ee7d8cc697f3337a78b627f8371a3433bb73d4a3508295c7c53b12024d289f8335dcd1fb9ea41689388828bb966bd9d1de768832487af7716a90c252017c3f2b4e1d69497e5e438f6d64bf298113a921e3bdc2777da0d78bfa6e4b91c20967d0259984a18e152680e7f33ab546a996a7ea583b21392e45565e9b0ba9326208d16423621d09763f4edb2be1e71081b40506116bb795030745a6c65743ba75120331d24db20b95d140a6f2851e2aa58a7dbc7acc74ccfa5f45252296595f1003320f0a52a69f36284173f6ef263214455d8204221dc35e293afac9642613ed3e3642a9a4520f826fb5c9a4c08393d56812cbfa84e47276c0a51e057c5a5ab90ad13b7047894166d860fbb99b68e7617b6198bd942ff4ee9da496484f364151268aa41b4eb38449c1560d8d364707e589cf9c36a4296d26ff77629a4779352c06e84f1b20260c3d1d7740524e3f7e56a5f0f7bc408acb7542a124dfb5343bfb4eb65a4c7251a4f324ba5040d08d1d3a4860d4b0e9e5cd73b4d94aba81b0531eaacb80ae977f2cafa2547a8ff321ed8a23375e53bdc2614fe13fb7cf7d7f43d18c618f1d856db054f9b7ddd50e651d47a086edb8eb3ecaba4ecb41e4bbd7efdc337779b2ef06c88f29455cfa1d83d5ea9fd99000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f3108af257486a7ad3be7baf1690b736dafd936f8d33551ccdc10be8175f352a7f862b6aec2d7948cbe203dcda801ea2afe9850359e3ee465c0cde7f6b08a80b1bda2ec4e0c36f55e589c266fc9432df0bd637582a908e487319dffba4823c9571898bd24d6bbd01a4db5abd41e8fbdc378b08dee3c9cdb1e6b7d878ccb35216006dd186c66c6c17e69f19ee70776e8e6419145509dc33317f07f11e178e9c5fa003ca34cbcb8ea4d5f2519d8e9d719afb11f7cb74eca9f194399c736cf89705d260a9546e321170f67f51344c01f6a666fdaaf3195a3d0fb1d66d92ec2442452f0ea541cf748b5e94c6d2eee3ada4c07f003003cdd5ea0a5a6f94ae26d7283602ec85a599bb7f05efb195a11ccdd6ca1ff485d6bcea042ddeb1f0e832a61e8ff09af840060190ed2e88cf952102f536806dd596c56cfe98daabfed8dfc0853f7e954305f877f6a3d99a638323b2519f8fd1c90a8c6430970cc8497c3f7641913bff38c301c4197ae382faf1788a6539af342237aa553f1620c7e850016ff8061f424653a697b574f1328265a37929c2432dc0ad511d4728de0748053d6da38caedf2793d8c711a3de2eda985908d33932708cab170fa72c4956182e95ee58835565aa85a125e2a7f5bbc76e98986a7fa94b077781b292a98b7232d340528ef5e878afe561978019249148c2b272aaf1ec6c6ba9ddabb11e7bd649f72e6e799dc4c3a1968042e7cb3e12b6ccd5dd64617c25f488848ca6c8d383c06c945dd3c6ae9657d110000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616ceceaef43783db5b094b6ecaf1e92a511d2d29e708ba8bcea7ab0a6b645832f700800000000000000715f635f6576616c81dcd993cfd2816299e58e8209bbf326bbb9eebe35b17aed475eb7ac2e7ee2590800000000000000715f6c5f6576616c1f71bd81a12b2ac0be243d2be77d112b23f155d84affdd0396e6e052810d690a0800000000000000715f725f6576616c8cabcc929b6b0b4fb3e92c21b143ec8c445b7eac16678e887a54c5bb5463ed450b00000000000000615f6e6578745f6576616ca4c3a20cbc1f1a30407ee5c3389d88ce06fe5db83374ff84fcaedd87d45143120b00000000000000625f6e6578745f6576616c3f2c9b88e198bed5d5cbece49368bf3dd8af3aae8bc6bedd98f5080c13256d030b00000000000000645f6e6578745f6576616cd7db9e32ec5e7389eee6a5831d92473c0bdea787d1d5bcccd0bef5a130632b6d7e5ad5e5c311ec08e3835833860fe8a55895a26c0086d0da4ddbcb149571ea1da4f14e9aa07effa30f768a70d42708ca050e7530311fa81d1afccaa4763ab7540001eb834018584e571d028f572c660c6413b85b00d10aa28b8e92368446d53d2f1b20692c29009a8d0841d17f910edee7585867bae3700fb80fa56f4d951d674aee172033e940d25719f15a41c79ef89c16239dd15758551376764a936dd54d129dc24c20bb9be81fb9a2696db88c16d62623073ec9af62e9a4f4b072bfd1956f4ca95c3f20c488e308a2b06663c4af5669a54537ac21494aa5030cc9af301eaf1956e8913320fe349f6eef29928bf962b5c0de852408996da05ca29122ba00953eb19116bf5a20db0dc5a91b98ff3084020c25ab15cec78934ca10f57e1bb970882430026e0d453c6ac21b86473dcfd334c117d25bb10fb92c3fbd6e1e01dc025288cf033122aec95b686cadc94115975c84ccb74dde19cbb2d140ff80603853b87701bc907fe3705df5d7035579335269a9755b35c20d6535d5b1311830676234b57fcd03eb88a19fa31b82e0d9857aa6b7c50380a8e21f73202e7309c1e8ebff081482e98456d5446a069df6aaeb4ada2aa480647a85794a52c257b0db8a2abdff439e712e303cb5b26cf31cbf2b02254fa74283ab0d4783afd0152bdc1ca84f97c5e1362f100ef94b128f0f02eeb749c3308c82bc7607e1bd67508f8b79baf118be84c8ca1baa35029879943cbd9930769e677c7885000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f31084490969fa637e48fd0d891edf886944f2cd21a9b185cd50cbb8176857841aaeb15f4bce0bd94388201ca7bf904b2518b638caaddcad8cc7b94109f4a63277778da3611fd977624c9651db0e3fc211d41ce298d720bce50f3e8891befcc67f199d06fd924f432e9395fc54979fea889e6757829a4727e5519d4cf48b3ecae24238a24daca0233bc65bb2977b548a31e97a9c5a4da620ecf58db8638535961356883df5d460342402b38f7b0f803646327bf30208a45ae47b5b8e4deda8266e180f49e1c3ca206001241606b77780c3d589d99b6ef85d267c63ae17388996be696ad1014813c681474eefb2d80c6d8c91500af21cf02127c9406ae5b17d2beedc8b8e0e5b3197d8ab1132a23bbc444a1015e89a429c3117a86940749e46eddf3378c001b832e79e1f672e45ef7a8ffcc8f7c5a4f84f00d120a2f7d37d320ab39683e489c25206f9e5b09ce12e976fd6fd73fbd69c14e15560af371eec8cc4209e9546042f9aae58335a50f44f8d2ed332b09539f9183912bafbf7c553e2b54690ae41b255482a4878a8e530a348fbd451da68ff78dbd9bfb27b0f097efcc552829d957e0916fc743f15ddd430be8bd0134e7f49a8699e467a523ac590bfc121dce49639d2d6d46926adacd3fef17ee8ad033372913e07feb4bdceb3ab982d7b9da615c0eded1e914ed2ca0f39cba982cf491f0e101cadf7ec722778e24468f4980d6326a2327506a53b937548b79d8a74480edf6e2c05d17ed733a11ad01171e6aae2c0000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c142ff481e2efd42ff64f46050715a8d7cbd795a716a512e9a7aa9fd06773f75b0800000000000000715f635f6576616cf510623c5e285c154d4284a2098462a4ce8a1fb58b6c8b4a2e816a3d0547843e0800000000000000715f6c5f6576616c56374746e1391e3718670d30b4b8928b8cc64f37d60b9eb845a95bc19d88343d0800000000000000715f725f6576616ce80334ab520a2cb40e177a7bfbcd0b4b6d8832494db3289934db725ffeee0b730b00000000000000615f6e6578745f6576616ce08d45a2fea592d7485edcc358c7c1163e1d4766df024d4a5610b969c77700420b00000000000000625f6e6578745f6576616cf97ce3331902f2ba62d89c1f2c03069d219f14ca0d11f36b06dc5b038706c23a0b00000000000000645f6e6578745f6576616c09ff1e35db06142215c83390ab1b7e98af1d167a7306d8838e21d1d1124f9b0db81e88b517f79c31d63d300e04030bda2b483ca86f3e93beb28efafe14db9d39aa9280524df6eb61787a79eee768ded7979ed6fbf80ab7485f28b24393e35b9300011c85fa62100ba6fc16fb2f9d42b599441131f0f44c975a0a20df4a8bad1e7e8b20f8f7fb50ce0dcbe8927fdf9bd58e8ee37fa7037047ff4e0f68db760f21a4b60c2057f938e81b69712ac6234ee41a753f1cfc0a50c26caca1bb05c5e17483fcd21120a946a1525cd40e69f6b8a3f05f91d935933fd83de43122b336a551a20438392620c8cbbe212701233d7dc5b925f3dcac8979db7d507d1ac00873ae95f8df5ec834208163932c9643d6cefc747f7066f17e7ce1be0e2a458581c44be488aac9c9404220058c515723221e1ddb007bcb1114330325ee437d7d99d049627c4b621da422475dd730025e4d4c75628fa5ae621e742fb17acf38934efe54bf10c33d07cded5b7e698ead119d1892b754f306dab1180ad480c09bceded3cc243250aa75ab93e3598520e871e2d734fccac1201c132a5eed74082e3c449d93e20b286f5a779488e8886732d6604ae0b0ffc4cc874eab85013250f2fcae7282e79497e9da52dd83bddf160c170e59a22ff02b165c8cf31648e9fa4f596ce6d55f7ce87e4d0d73fdb5fae779bda7f0999d62e8425b15ef6c60e09fd207ea85b592d3791f74da8f0ea38a80d09fc22eecfa305f0a09ef0233de8ccb7cef628be7ff1135795ff15aa290add62b55d72fbee685483ebd4ac116000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f3108940e8845d48f1fe9922a10eedad3a6e227f829d2402ebc0329858ca039797de8f9cdb75c84d378c4a6bb8983ae5a7e0f1a7b25da5b8dedbd2c95dc370b804b07af9720cc5a1dab836227e303615137c97c10779a7e5119fea62c897494e8149218266edbb87d14e6fb95c9ef43431e1f90155b3d400d80a7071b37c559d1be273453356eadb5cb5510cb0301af5266968e62880956961d7fa689c8d0c1d5a61074f45e9364d34f48cf0d362eeb1569fae7d575e45c0d814d130125835608a8847ff112949e753f1973a6e709f885448880b697df6f1c0aad51f79eb77854fcd34bb1b82338454da7595321fc08b632820066d4b30cab68f2aaab6ae0da1f078f33878507b099fb8423abc79e84fed9dda8a3c44a8e1d9acedacdb0d22e7bafe500006c6ff084ef1120f1e45bb19b4b4927b6931d19a6b4365c26859d26dbc907135b344c4781b019ee73fc3d206e54fd50b66ffb9b5a7ec7ec4a83b902212ffc99060893558a32524ea771a21658188aa47c60cd63796b32487a697101ebad111b47672adafc74dd4fbd6565fc1971cb52540d1494fa04389a258f8c5773c2ee372906b6d921b6462f25b1ff07eada3e8440c5795bfbad505dc89c58ea70f605ac3ed4748e06f94fd9c88eea42c9367aaad9dc1be2ab2739e98514f589a223f6980d6cf93679cfae156f7f28f2722f2c241a03448e885a4ac814449f8b37750dab0cfd89915bd88cbf5a22c62f2d188373584266f62166c87223f895cd991eb56f0c0000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c30c6c36870946d1f1857ce921de3859ee408d60869c80b69577e80415f51a9210800000000000000715f635f6576616cc50d9f375a29fee589c32295532459edf80adccf3bbde3ab289fcb0d542fe0130800000000000000715f6c5f6576616c5ddb010954d96d51b19e1a25709850cd917a24ab75c2d517b39fbe7d4552150d0800000000000000715f725f6576616cf0950160ea48940c570652155af3a78bae852a97e74e09f10de0880cab15a2340b00000000000000615f6e6578745f6576616c5e29e4c27c79f3de80595f93bf6f606715a80324adba78c6d31435b2190fb0370b00000000000000625f6e6578745f6576616c8eeda404d7653ba270194e77b7f7a4d2372284ad3df3b65b07bf572171df190e0b00000000000000645f6e6578745f6576616ceefe15619e24e954b91c3da8a5e350fdcc5b9020c11f14717c3f1618c2761f27d8a16f7ca5b25e8ad3dfd84e90215e2de56a365567a8d5a994df067624aa6262384e9b756a4291b6fe95e42a3fb5772289b5507b99e915947d37e8a023acf0c00001595bd32d93cc36e055e01ef56a8eadf1551778589d3792fde40ef0693eb3cf342050ae21692c96115c413e634e18f72cd443c84991b1c8e3a39f37f3681e1cda4f205514da82a5af24fb7fa207dde7236ebae8809eda106e101646dd8908e6ddbd0320b709db772a7d26f302eb44064769a0cc610d22a2a3965fcdd8f8b7c9f128b16f20efb16c46b81a8958bbdac1c728f8b44f42080aa8f3e518ca089266565112415d202cb8f27669aea68b9eee264ccb048ba5bdc0fe1843927f9efa8ca24a1534a02d209985df1f79d0a7315f97b7dc311ff8528e05247bb76c0c27a6ffc45fea1fae6a78cc12b4a58098bc26c156ff1d9e1724414d5268a064adf095c23129fa37f1100765ac6224551f48fc5d53417fab7808d0dcf2bde325da2692e7acd2d98ab305bf156768066c8fbc4101b45496f0abb1a6e1f0d17be267835df23b755915cc8ea01cdea0e3efc495fa40fb2380dcb1ce0a15e796c16c1d228fc949f7d700667b78f92c068556c905426353026523091538e9c684a95b474a69b9264a538d032ad3e6a2a09f5969df1bdfd8e02f33ded838613093871ced0a80be94ff8e19f719cfd7ac1130ebc680464f8f7372fa314b25a2364b6bfbcca85bd84318f317505b5b7fac5fc8b2cd425d2425d902f30316000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f31080470f26eedfdc12b1d791ec1a00746d2de922940428fc551ab2d1d9dbae15cbc9a8f3dbb8f152db1944a97befe6e1c0224168d760742f77b5609ea1efff04ce78d31390cce080c016e5861efb32a5b7645637c5b3085d257b840269269689f87d9256e24a7826271079826704b90dc5d6196a14b9e6a5e040341a7caa278ef1aff4ca5d0c0680e885d6f98b41c3c759629873ec2a5884489590ab4774b6cc7d4a66e4dd362b211ecc67dc398581f085f534fcfc2d76eff26b63551fca8c44798bb449969a76521b0dfed379628cadadb4e280682846179f440f61713b7aa93f5b27223a5b3e093f56f79fbf3f0eb1a1300fadecd26b4efc0e422fe43035fc46dedee8270aeed40390374b7ff1fd9c33a02267432193914701c79d22e4f36703d0700bdc8ae467b12f1ec98e14015ab0cb18c910e151c5cabeb914be6d11456e8ec5ed815b60ccc8b063440fc6c2c75c32a00a7bd6460faa9471dbe04152562d31f04639e50fc5768dda809c6e2eee897387f46f1fdfdffd178ce245c6a3dd623526512baad1f9edffaf040b68ac25a5b86bb8b879df7a9e1e127aed6201b7686d74cf1eebbc6ac6790a5c6822c9a6eb36b99d04abecf572e87b0fd869595622e2828166ef6333a6c078ecc317b2d0f71d54822d81029ddd8fe3eb18d6688f078d421506254d8e37a865dd1d3e5684957db069dda649eb564a54539fe73adda91fb4f7bad542744b3ec7dc1e38c1be4fea4898729412d16ebc497d2239f0cdf9234680000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c5fd388c47464a897cccd831e3ec31dd16be8a345a92d9ac8fba5baacc49e2b440800000000000000715f635f6576616c532d356bb91580e02562b371082ce849be32de4e377d20df219d2a9ba98606410800000000000000715f6c5f6576616c1dff292cf438b20e3b311591c4c71652c5320d7a27f8b25e447aa20bc7c9d00e0800000000000000715f725f6576616ca50a0212e680bd95ec73ae77863455850e006374183097035373759b38e027400b00000000000000615f6e6578745f6576616c1c48e2b4cce5a7ede952026000bca8e8a9c0dc2823949b6c3a230ab3ebb7385b0b00000000000000625f6e6578745f6576616c0213a74c3d1246322ed544da9eb1be12ef5a593f2c2dc2ea41612c7f9e92181f0b00000000000000645f6e6578745f6576616c0ac4a3e84be57b0dd3ab8b0fe242e6b0e07dcc9ed8f2447ce9e49a841d8ee734e7878303069a1aecece4dde2f79de83b3d6c27428bb5a50869792b9ccf1cd95d15c0065345f1775ee6329d731c920ada2d34e99f44ebbb48428856f69f7782ab0001dc386e8d3f14a990224e1ecf3247c21830a6e32c470dccb3989cfe0601b13a4d20ab0323ed6ead23c74adc0287c18de58668da97f250b236161fc96ac24767a75b204ce35d40b028c1b1f6039d71c5456bf921dc7cdae30fe4dbf79f7cfb257a572c20a3f3452c2ddae4609776812ec1fab53c1bf86ee088394b8fa057bae0668e95722027d3570975957df463e823780c7ba625c270b43a04d8afb7c05cb4a81ee3d3682031fb8d12c2284e45dc5b8eceea9bbc1437f66d255a75a9309ae28f6953682d2f2008d143525bc16d7268db7ab556002a0845ae269b699bc5cbcd734e74c640130f4177e7e9336c93f4276460fedcd914739be9f7b43f3b4d19cf793a0112871f2e1f331dd0ff04dde9379b02801cf0ef00fc8d69d3cf23f1e3eab7df490f0ce4d4f32eb8f7af28d8a6b262fd6b4abd9662b050c118810bbd8ca019230d824722157626777878a3f23c36e4713a9ce1f37965629673731931a2a8ae9a99261d1cc30bcf609fd2e58e8e64d4145b9b581b8cbc9f2b8766ccb8345b55ba4177938bff1f1d39dda14b4b16de9711303393011430a4b30db9b7edd527f347b4fd4f5d0a318736e36706a3a4a2d678cc6f4b1fae54509ce06fdb9d6fe9bad859b46cc04bc0e0535e678cf3aee1d007e7aa7a340c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f31085ec3a2b99367892bf118e0dd94bf18516cbfb3f04564c515c5e3784a3ac85564edf01340a03449fe45a2b02341a17683a33a7d005708a95c25eb28e8b02fdce74d144622642151cbbe9f42cdc862da9fdd34522dd422452f27045e36eb0133911a306f976befc83825c974d64a533158c686e6ea31c6f29f040b36ed3295d994eb119b429b625350403e6cf397a3da921dd3c10488be42ebbf616870725c1e3cef769cf87cfb0936e3f7e6508de02cff763bb18d41abba19bb8b5805c9c4d59068c5bafb53cdf285a2a744911accf04fa3c5f74f4c2756bafb9e44563d593453158c6b0bf67ddb6373adafc575361b8700d71d1415849d95ea913647fa6c729a35ccc80451d540de722a694c96632b161a3945f905fa0bd559daef6fe9ccd7da0a00708efe9938e7e032689ae73195b679fee9866403853b1c24321629986eb12b206a1514aa7c46f88599b8feffb169295427aa597c0d486ba9b65fa7b3312ced67615eea55b87028ea02a108de900f1f953903bcc05c931e9a8e82dd371cfc3d37bbbd881ed3ba226748105abebc3fa8776b99bc5c9fd72ca8cd271d2da0029c3604a9a514248f890f9b4a8586b3bf2940c3b24b6065e91877c2a8d8e0f2e9583a4175d6b40bb403d7ecac0ed94a6e7325c2826db8d19144e8309680bc74f7125978c09c0f648c3ecd4b1e8698f8973d882d62b09899217626a2b692ad2a3d54496ab377fcf787f16347d04f5de37e1c034ce441cefb22b5d3e0257c08797751330000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616c7c4f1c3f5486de113a46d70a96d98501f31b0ac058ec764c5e03a2ac47c2dc700800000000000000715f635f6576616cd65d90a2e9a2621845d4760ec04588b36926e3c97de48af05d31e4ae5b1c94280800000000000000715f6c5f6576616c9b555f805398c1fc6c748c12139c56a221a2e229627fead5a1a1bae00c93f7360800000000000000715f725f6576616cbb768550bbbb9256238e45e3993026b3beb954a997e21b6dff1baa6cc2e0af520b00000000000000615f6e6578745f6576616ccd5d5875a045830a60547941fa75d62ffd493379add48432739fcd36d577b81a0b00000000000000625f6e6578745f6576616ccf2289c7f5f479f0fc5c9c3a94e8ae532a9a44e69490b703bc966c633fad8f0d0b00000000000000645f6e6578745f6576616ca859d8ce3ec0a6fbbae6f8b33fac8fa1ad6a8125920b654c456fdd6252c7d356e85f82d9b46920b80f2550dccab38343667e55b22b5a59bddcafbcc5930168020b8328e235be5fec69fb5518f014074458a271adab73233b86f460dd92f9ad6300013ff9c3716c9e86d6219d387744aa139a86354bbd078782b91e4edb21d03353d420f0bf19a8035bf8c5ca8f63efd20f36a9579de301df88e6514e8d6c6b1870fd30203a73bca7f7335882fdf8cccc7c9e8549e78e0278be73232a32dbd807ca9f380920bea3d80768365fda6ebdae7d19a3dfae0cdb54d208a93b721b10ac4a719c8e45203d9cf42765a752df6a39cd5b352bcf4ab59bbdec5201166651118a492da22e3820c046cc2ace38cfbe490cccfe97661a6506b86ac383f30de3ae1b6f66e8664f1b20b8650973667d1bdfb7b1b55afbbdfc6fe00784d7094a6fa1844a058cec54712bed88a45de56ac5c54eae1f84213b39b925923274943dd254a7bd8a238180e3897d13503dada9f199cecdafdab0e404165bf1441e4e420cc6177e3c2388009d15683072088c29d1f8b1ebcceeed610ce9718bdf5163b5987499469af2900525156221fb83464569882f28f80fdf9c17fdbd1555ed15fb06d596a16669c7c5b233cba3dc5d0b5e89335f3f81c6f53e040090b67fe49ced8529e3abb0727743e52bc66fb27ae7e927fdc615e4a6440aa0802b53ad4496356e624ccba8045df50296016f6110a4a668ca4981e3d6ce47e2bf829e5480437e9cb343d9ebfac1e2b7b928665a463a461a8153a1c3d04812b192000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040d58bc87675762e404ac1d6501b16029aab366254fe19e7e5d0ec34a0b95cd65e56e160733b213fd6ebafc240b00f3108d1994355d31056a5853a0e9f4be0b9b36a4b0a4085c80beb8d2ea489f7a85263fa8e868e8e9efaa85a0159481dcd210b17c0eb6c731e47dab2370d7380e8da6307b93985dc9ea80f5b190e87710f3b31e9d57dcec30627ed3fec9151e7fc54966cb837bc23799638a69756eb33167f25e1b6ba792574acf7355e5e582a78c73df01e7913534583e73bad86675089ab84a98cd076a46150fdd60f61b83118b5e860bc664abc85b727f361681d32d028cda08a34a50271a65a2daee0275449a704454c0e1fe3e77b6d43decfd68d0c5c49bb1bac1f682e5a0c981409fb62be8de16341ee0f92956f00f5364e37ad65f18500c31fd10f35cafde6916cdf2d526d63a0683b108ab14704eb4a041bfb20080e3041ff6af3c3d2ee3d6633046debd0121000ca8e913b8703853375f46ade765facf29b6f491748196bec7bedb0eeb64ac24434fe9aa490bcd41668f9d79b7e0d808cc6089f4f8788f6314af05e061d616d081d733f64e6ae9b61006aa7cf6ff122980596ebdb91a1814448a6f34c4a8efe022144a6790eb45a39c213f63325bd493c94b2b194ab5cb15abc32ddabb8e64355e8ed603c54e5ccabef6f8f326bfdc7f0712caa1dbf763b15df1c57495e67440649ccd51460b4c1fb6da6eb7c7d7a84e12abfa751f8e0f8cb8ba4c7d04ff55a0bfdcfb2c9547d3bee72ddaf90051ed2a0a48020c376040cc06f5c79f56c09b31841cfcbe463f69353542bdb5f1e46dfee0cb8f70459befed1c67c95deab07951f0000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000c00000000000000715f61726974685f6576616cab6475d9f077df7cb83bd354e3d4c99121c2562c0827ed08bf74b3d1751363400800000000000000715f635f6576616cd0575a84cdddd84839dbe0592c2b5c051c8703d0ff6eb339bd91854a0f6727030800000000000000715f6c5f6576616ced0aa310dc13c773d18048b316ce37179f7d5a341532a09e617a3f794162220b0800000000000000715f725f6576616cdc5935b52f2a6af0455d8905439aa961ea472f88a576f205b4272d5bdc04c85e0b00000000000000615f6e6578745f6576616cd73bc409e29c9361876fd46fac6eab0e96f9bb25ca33da2469f527d624da72650b00000000000000625f6e6578745f6576616cf587c4ce0ea011fb5f68f9394a2bd20512f60d777b4a93204a14a55e17005f670b00000000000000645f6e6578745f6576616cc5186dd5d1372ff23e09a313a3b04e7ad70e26308b7c7787df089cb36368a6670000000001000000010001000000000000000000000000000000000000000000000000000000000000000000003bd1435d4effffffffffffffffff000020eac19fad7dfb8c6df5cca966af8b414d22907afec40275328eb068d78970500c"

  private def failWithErrors(errors: NonEmptyList[JNRError]): Nothing = {
    fail(errors.map(_.toString).toList.mkString("\n"))
  }

  test("Extracting guaranteed coins from DEV NET transaction should work") {
    val devNetLedger =
      LedgerLoader
        .loadLedger(networkId = Some(NetworkId.DevNet))
        .getOrElse(fail("Invalid ledger state"))

    devNetLedger.extractGuaranteedCoinsFromTransaction(validDevNetTx) match {
      case Left(errors)                         => failWithErrors(errors)
      case Right(StringResult(guaranteedCoins)) => assert(guaranteedCoins.nonEmpty)
    }
  }

  test("Extracting guaranteed coins from wrong network transaction should NOT work") {
    val undeployedLedger =
      LedgerLoader
        .loadLedger(networkId = Some(NetworkId.Undeployed))
        .getOrElse(fail("Invalid ledger state"))

    undeployedLedger.extractGuaranteedCoinsFromTransaction(validDevNetTx) match {
      case Left(errors) =>
        assert(
          errors.toList
            .map(_.getMessage)
            .mkString
            .contains("Ledger error code 8"),
        )
      case Right(_) => fail("Should not be here!")
    }
  }

  test("Contract zswap chain state can be derived from local ledger state (zswap)") {
    val devNetLedger =
      LedgerLoader
        .loadLedger(networkId = Some(NetworkId.DevNet))
        .getOrElse(fail("Invalid ledger state"))

    val testR = for {
      ledgerState <- getFileContent("ledger_state_devnet.txt")
      expectedZSwapChainState <- getFileContent("expected_zswap_chain_state.txt")
    } yield devNetLedger.zswapChainStateFilter(
      zswapChainState = ledgerState,
      contractAddress = "010001f2b1e1b25d787c9b208fb6155ffd3992a55bee88468864c7f5bc46bb2a64546e",
    ) match {
      case Left(errors)         => fail(errors.toList.map(_.getMessage).mkString(","))
      case Right(filteredState) => assertEquals(filteredState.data, expectedZSwapChainState)
    }

    testR.use_
  }

  private def getFileContent(fileName: String): Resource[IO, String] = {
    val readFileF =
      IO(Source.fromURL(getClass.getClassLoader.getResource(s"$fileName"), Codec.UTF8.name))
    Resource
      .make(readFileF)(f => IO(f.close()))
      .map(_.getLines().toSeq.mkString(System.lineSeparator()))
  }
}
